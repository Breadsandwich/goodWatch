extends layout

append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/index.css")
  //- add page specific js
  script(src="/javascripts/index.js" type="module" defer)

block content
  div.main(id="navbar_div")
    nav(id="navbar")
    a(id="home-btn" href='/' class="nav_link") Goodwatch
    form(id="search-bar" action="/shows/search" method="post")
      input(id="search_input" type="text", placeholder="search for shows", name="name")
      button(id="search_btn") search
    //- div(id="users-log-btns")
    //-   if user
    //-     h2(id="nav-username")= `${user.username}`
    //-     form(id="logout-btn" action="/users/logout", method="post")
    //-       button logout
    //-       a(class="browse-btn" href='/shows/all') Browse Shows
    //-       a(class="my-watchlist-btn" href='/watchlists') My Watchlists
    //-   if !user
    //-     a(class="login-btn" href='/users/login') Log-in
    //-     a(class="signup-btn" href='/users/signup') Sign up
    //-     form(action="/users/demo", method="post")
    //-       button demo
    if user
      h1
        //- a(href=`/users/${user.id}`)= `Hello ${user.username}`
      form(action="/users/logout", method="post")
          a(href='/shows/add' class="nav_link") Add Show
          a(href='/shows/all' class="nav_link") Explore
          a(href='/watchlists' class="nav_link") WatchLists
          button(id="logout_btn") logout
    if !user
      span.nav-bar
        nav(class="auth_nav")
          a(href='/users/login' class="nav_link") Log-in
          a(href='/users/signup' class="nav_link") Sign up
          form(action="/users/demo", method="post")
            button(class="demo_btn") demo


  block page
    div(id="recommended-container")
      div(class="genre-container") Drama
      h2(class="genre-name")
        for show in showsDrama
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
      div(class="genre-container") Sci-Fi
      h2(class="genre-name")
        for show in showsSciFi
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
      div(class="genre-container") Food
      h2(class="genre-name")
        for show in showsFood
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
      div(class="genre-container") Action
      h2(class="genre-name")
        for show in showsAction
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
      div(class="genre-container") Comedy
      h2(class="genre-name")
        for show in showsComedy
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
      div(class="genre-container") Kids
      h2(class="genre-name")
        for show in showsKids
          div(id="show-list")
            a(href=href=`/shows/${show.id}`)
              img(#show_pic src=`${show.imageSrc}`, alt="show pic" href=`/shows/${show.id}`)
